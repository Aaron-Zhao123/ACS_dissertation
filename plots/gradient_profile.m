% gp_accuracy = [0.99360013, 0.99380016, 0.99370015, 0.99290013, 0.99350011, 0.99220014, 0.99040008, 0.97930014, 0.95780015, 0.83580005, 0.43249989, 0.27589998, 0.18939999, 0.28559998, 0.24719997, 0.1276, 0.098099999, 0.095299989, 0.093499996, 0.1362, 0.11330001, 0.1718, 0.08919999, 0.098799989, 0.071099997];
% gp_size = [1.0, 0.9001274416664736, 0.7806404523020599, 0.6665824779294205, 0.5611673656648979, 0.46475426929582686, 0.38104363139235814, 0.309914961651644, 0.2508399564381213, 0.20450680075074726, 0.16936997474337884, 0.14391408114558474, 0.12705934147415252, 0.11667400421716059, 0.11018838195426003, 0.10655050165674167, 0.10439789605394258, 0.10334128878281623, 0.10273188590495169, 0.10245151423870982, 0.10236114651157402, 0.10230090136015015, 0.10226382742081239, 0.10224760757235211, 0.10223602196630906];

gp_accuracy = [0.99360013, 0.99380016, 0.99380016, 0.99280018, 0.99270016, 0.98950016, 0.9884001, 0.98320019, 0.96020013, 0.81870008, 0.41209987, 0.13049999, 0.23569998, 0.15329999, 0.2145, 0.16559999, 0.13749999, 0.08919999, 0.091699995, 0.10479999, 0.1364, 0.11399999, 0.12359999, 0.11089999, 0.047299996];
gp_size = [1.0, 0.8945802534930603, 0.7684547118659777, 0.6480594109877887, 0.5367889334291077, 0.43502096994693795, 0.3466575526565795, 0.27157819125518456, 0.20921982528906088, 0.16031234793892069, 0.12322450587390227, 0.0963528512176472, 0.07856199457793638, 0.06760201126120907, 0.06075260096855666, 0.056913131125889194, 0.05464003522024237, 0.053527817040109366, 0.052883657344115674, 0.05258706582941353, 0.05249206385986051, 0.05242718446601942, 0.05239011052668165, 0.05237157355701277, 0.052359987950969716];

ds_accuracy = [0.99389023, 0.99389023, 0.99379009, 0.99338943, 0.99258816, 0.98557693, 0.94751602, 0.94911861, 0.77564102, 0.39803687, 0.12129407, 0.11858974, 0.13110977, 0.11348157, 0.10747196, 0.1045673, 0.082532048, 0.08203125, 0.098157048, 0.097455926, 0.097455926, 0.097455926, 0.097455926, 0.097455926, 0.097455926];
ds_size = [1.0, 0.8082767569571564, 0.6750700929165605, 0.5597307505155594, 0.45769631809439953, 0.3671015130801492, 0.2886414718353917, 0.2218319160275274, 0.16597770929397318, 0.12118080496790787, 0.08547396714322127, 0.05864402066872118, 0.03965289524295016, 0.025896146627430082, 0.017044743610538267, 0.011388650740320225, 0.0076256458975369, 0.005510114234075584, 0.0041499640846212665, 0.003415436661491763, 0.002945061056143847, 0.0026948119656139214, 0.002604444238478115, 0.002551150450680075, 0.002527979238593971]

ds_acc_10epo = [0.99380004, 0.99380016, 0.9940002, 0.99410015, 0.99360019, 0.99320012, 0.99310017, 0.99210012, 0.99220014, 0.98930013, 0.98700011, 0.98130012, 0.98160017, 0.97970009, 0.97950011, 0.97930008, 0.97720015, 0.9697001, 0.96150011, 0.9568001, 0.95350015, 0.95110011, 0.95220011, 0.94860011, 0.94460011];
ds_size_10epo = [1.0, 0.8083485877146234, 0.6741177560998216, 0.5591468359709897, 0.456688370368654, 0.366068077021109, 0.2879695066848947, 0.2204787172416989, 0.1646708529323169, 0.11837013694186344, 0.08222304608754084, 0.05539773385545798, 0.041886600088050605, 0.03412424403920569, 0.028099728896818593, 0.023933544963737053, 0.02046018027203003, 0.017526704821929234, 0.014989457098500823, 0.012948073313715041, 0.011437310285701045, 0.010179113469425585, 0.009201288319391987, 0.008438955441759158, 0.0077368677155502];

gp_acc_10epo = [0.99380016, 0.99420017, 0.9945001, 0.99450004, 0.99360019, 0.99320018, 0.9940002, 0.99260008, 0.99250019, 0.99100018, 0.98900014, 0.98700011, 0.98640019, 0.98620009, 0.9848001, 0.98450017, 0.98230016, 0.98030013, 0.97710013, 0.97250015, 0.96970016, 0.96910012, 0.94740015, 0.94030011, 0.9406001];
gp_size_10epo = [1.0, 0.9715272145885951, 0.8256598002641519, 0.686361424566119, 0.5572699677920152, 0.44028778645410943, 0.3384410408508469, 0.2515628982552077, 0.18134254002826888, 0.1269689737470167, 0.08590958593044003, 0.05881780475936696, 0.04282503417753783, 0.032835924647218295, 0.025991148596983107, 0.02111592557406678, 0.017308895428319857, 0.014245661190536878, 0.011928539981926455, 0.010188381954260027, 0.008990430289408439, 0.008042727715086776, 0.0072456380193247905, 0.006538916050698612, 0.00597817271821489];

figure
% subplot(2,1,1)
plot(gp_size,gp_accuracy, '*:black','LineWidth',3);
hold on
plot(ds_size,ds_accuracy,'*-black','LineWidth',3);
lgd = legend('gradient profiling', 'dynamic network surgery');
set(lgd, 'FontSize', 22);
xlabel('Size (Condensed Network / Original Network)','FontSize',22);
ylabel('Test Accuracy','FontSize',22);
set(gca,'fontsize',22);


x_width=3.25 ;y_width=1.125
set(gcf,'Units','normalized');
set(gcf,'Position',[0 0 x_width y_width]);
set(gca,'XLim',[0.15 0.7])
% set(gca,'yscale','log')

pbaspect([3.2 1 1])

figure
% subplot(2,1,1)
plot(gp_size_10epo,gp_acc_10epo, '*:black','LineWidth',3);
hold on
plot(ds_size_10epo,ds_acc_10epo,'*-black','LineWidth',3);
lgd = legend('gradient profiling', 'dynamic network surgery');
set(lgd, 'FontSize', 22);
xlabel('Size (Condensed Network / Original Network)','FontSize',22);
ylabel('Test Accuracy','FontSize',22);
set(gca,'fontsize',22);
set(gca,'yscale','log')


x_width=3.25 ;y_width=1.125
set(gcf,'Units','normalized');
set(gcf,'Position',[0 0 x_width y_width]);
set(gca,'XLim',[0 0.7])
set(gca,'yscale','log')

pbaspect([3.2 1 1])


